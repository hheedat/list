!function(t){function e(i){if(a[i])return a[i].exports;var s=a[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";var i=a(3),s=a(4),n=React.createClass({displayName:"LoginRegisterBox",render:function(){return React.createElement("div",null,React.createElement(i,{urlLogin:"/home/index/login",urlRedirect:"/list"}),React.createElement(s,{urlRegister:"/home/index/register",urlRedirect:"/list"}))}});React.render(React.createElement(n,null),document.getElementById("wrapper"))},,,function(t,e){"use strict";var a=React.createClass({displayName:"LoginBox",checkFlag:!1,mail:"",pwd:"",getInitialState:function(){return{warning:{},applyMsg:{apply:""}}},submit:function(){return this.checkFlag=!0,this.isInputLegal()?$.ajax({url:this.props.urlLogin,method:"post",dataType:"json",data:{mail:this.mail,pwd:this.pwd}}).done(function(t){0==t.errno?(this.setState({warning:{apply:""},applyMsg:{apply:t.msg}}),setTimeout(function(){window.location.href=this.props.urlRedirect}.bind(this),100)):this.setState({warning:{apply:t.msg}})}.bind(this)).fail(function(t,e,a){console.error(this.props.url,e,a),this.setState({warning:{apply:"出现了一些问题"}})}):void 0},isInputLegal:function(){if(!this.checkFlag)return!1;var t=this.mail=this.refs.mail.getDOMNode().value.trim(),e=this.pwd=this.refs.pwd.getDOMNode().value.trim(),a=/^\s*$/,i=/^.+\@.+$/,s=!0;return a.test(t)?(this.setState({warning:{mail:"请输入邮箱"}}),!1):i.test(t)?(this.setState({warning:{mail:""}}),a.test(e)?(this.setState({warning:{pwd:"请输入密码"}}),!1):(this.setState({warning:{pwd:""}}),s)):(this.setState({warning:{mail:"不是一个合法的邮箱"}}),!1)},componentDidMount:function(){},componentWillUnmount:function(){},render:function(){return React.createElement("div",{className:"main-box"},React.createElement("h4",null,"登录"),React.createElement("div",{className:"login-box"},React.createElement("div",{className:"item"},React.createElement("label",{htmlFor:"mail"},"邮箱 : "),React.createElement("input",{ref:"mail",type:"text",id:"mail",onChange:this.isInputLegal,placeholder:"登录邮箱"}),React.createElement("p",{className:"warning"},this.state.warning.mail)),React.createElement("div",{className:"item"},React.createElement("label",{htmlFor:"pwd"},"密码 : "),React.createElement("input",{ref:"pwd",type:"password",name:"pwd",onChange:this.isInputLegal,placeholder:"登录密码"}),React.createElement("p",{className:"warning"},this.state.warning.pwd)),React.createElement("div",{className:"item"},React.createElement("button",{className:"btn",onClick:this.submit},"登录"),React.createElement("p",{className:"warning"},this.state.warning.apply),React.createElement("p",{className:"msg"},this.state.applyMsg.apply))))}});t.exports=a},function(t,e){"use strict";var a=React.createClass({displayName:"RegisterBox",checkFlag:!1,mail:"",pwd:"",username:"",getInitialState:function(){return{warning:{},applyMsg:{}}},submit:function(){return this.checkFlag=!0,this.isInputLegal()?$.ajax({url:this.props.urlRegister,method:"post",dataType:"json",data:{mail:this.mail,pwd:this.pwd,name:this.username}}).done(function(t){0==t.errno?(this.setState({applyMsg:{apply:t.msg}}),setTimeout(function(){window.location.href=this.props.urlRedirect}.bind(this),100)):this.setState({warning:{apply:t.msg}})}.bind(this)).fail(function(t,e,a){console.error(this.props.url,e,a),this.setState({warning:{apply:"出现了一些问题"}})}):void 0},isInputLegal:function(){if(!this.checkFlag)return!1;var t=this.mail=this.refs.mail.getDOMNode().value.trim(),e=this.pwd=this.refs.pwd.getDOMNode().value.trim(),a=this.username=this.refs.username.getDOMNode().value.trim(),i=/^\s*$/,s=/^.+\@.+$/,n=!0;return i.test(a)?(this.setState({warning:{username:"请输入用户名"}}),!1):(this.setState({warning:{username:""}}),i.test(t)?(this.setState({warning:{mail:"请输入邮箱"}}),!1):s.test(t)?(this.setState({warning:{mail:""}}),i.test(e)?(this.setState({warning:{pwd:"请输入密码"}}),!1):e.length<6?(this.setState({warning:{pwd:"密码必须大于6位"}}),!1):(this.setState({warning:{pwd:""}}),n)):(this.setState({warning:{mail:"不是一个合法的邮箱"}}),!1))},componentDidMount:function(){},componentWillUnmount:function(){},render:function(){return React.createElement("div",{className:"main-box"},React.createElement("h4",null,"注册"),React.createElement("div",{className:"register-box"},React.createElement("div",{className:"item"},React.createElement("label",{htmlFor:"username"},"用户名 : "),React.createElement("input",{ref:"username",type:"text",id:"username",onChange:this.isInputLegal,placeholder:"用户名"}),React.createElement("p",{className:"warning"},this.state.warning.username)),React.createElement("div",{className:"item"},React.createElement("label",{htmlFor:"mail"},"邮箱 : "),React.createElement("input",{ref:"mail",type:"text",id:"mail",onChange:this.isInputLegal,placeholder:"登录邮箱"}),React.createElement("p",{className:"warning"},this.state.warning.mail)),React.createElement("div",{className:"item"},React.createElement("label",{htmlFor:"pwd"},"密码 : "),React.createElement("input",{ref:"pwd",type:"password",name:"pwd",onChange:this.isInputLegal,placeholder:"登录密码"}),React.createElement("p",{className:"warning"},this.state.warning.pwd)),React.createElement("div",{className:"item"},React.createElement("button",{className:"btn",onClick:this.submit},"注册"),React.createElement("p",{className:"warning"},this.state.warning.apply),React.createElement("p",{className:"msg"},this.state.applyMsg.apply))))}});t.exports=a}]);